<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>QMAST Source Code: /Users/allgood38/Desktop/qmast/sailcode_alpha6/SailingLogic.pde Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">QMAST Source Code
   
   </div>
   <div id="projectbrief">The Robotic Sailboat</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">/Users/allgood38/Desktop/qmast/sailcode_alpha6/SailingLogic.pde</div>  </div>
</div>
<div class="contents">
<a href="_sailing_logic_8pde.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//**Alternate sailcourse code by laz, works the same but does not use long loops for waypoint selection, less responsive but allows for menu usage while sailing</span>
<a name="l00002"></a>00002 <span class="comment">//Instead of looping globals keep track of current waypoint, code updates that waypoint when reached and sets boat in the direction of the next one, this will be slightly less responsive as</span>
<a name="l00003"></a>00003 <span class="comment">//the time between each adjustment will include checking the menu but it should still be fast enough. Needs to be tested and compared to existing sailcourse function. Original in sailcode5</span>
<a name="l00004"></a><a class="code" href="_sailing_logic_8pde.html#aeaba10e3002bd9b9fd2ea1bdd5ab97ea">00004</a> <span class="keywordtype">void</span> <a class="code" href="_sailing_logic_8pde.html#aeaba10e3002bd9b9fd2ea1bdd5ab97ea">sailCourse</a>() {
<a name="l00005"></a>00005     <span class="comment">//sail the race course</span>
<a name="l00006"></a>00006     <span class="comment">//**declare things static so that they persist after each call, eliminate globals</span>
<a name="l00007"></a>00007     <span class="keyword">static</span> <span class="keywordtype">int</span> distanceToWaypoint;<span class="comment">//the boat&#39;s distance to the present waypoint</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009     distanceToWaypoint = <a class="code" href="_navigation_code_8pde.html#a5a81fac76ec3537d65664a394090479f">GPSdistance</a>(<a class="code" href="_location_struct_8h.html#a7101d8f006cf046f26304b4d14474910">boatLocation</a>, <a class="code" href="_location_struct_8h.html#a5836c31336ebde2eb38c5fbc0bee5372">coursePoints</a>[<a class="code" href="group__group1.html#ga9c43dea25777e23791d530b06f6715f1" title="current waypoint on course of travel">currentPoint</a>]);<span class="comment">//returns in meters</span>
<a name="l00010"></a>00010     <a class="code" href="_sailing_logic_8pde.html#a42829044eaaf781783f525dbf35eabc1">sailToWaypoint</a>(<a class="code" href="_location_struct_8h.html#a5836c31336ebde2eb38c5fbc0bee5372">coursePoints</a>[currentPoint]); <span class="comment">//sets the rudder, stays in corridor if sailing upwind</span>
<a name="l00011"></a>00011     <span class="keywordflow">if</span> (distanceToWaypoint &lt; <a class="code" href="group__globalconstants.html#ga19af76681fc030672f41555a55f8e8db" title="Course Navigation constants.">MARK_DISTANCE</a>) {
<a name="l00012"></a>00012         currentPoint++;
<a name="l00013"></a>00013     }
<a name="l00014"></a>00014     <span class="keywordflow">if</span> (currentPoint &gt; <a class="code" href="structpoints.html">points</a>) {
<a name="l00015"></a>00015         currentPoint--;
<a name="l00016"></a>00016         <span class="keywordflow">return</span>;
<a name="l00017"></a>00017     }
<a name="l00018"></a>00018 }
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">//new version of sailToWaypoint, this version checks if boat should tack or &#39;sail&#39;, thats it</span>
<a name="l00021"></a><a class="code" href="_sailing_logic_8pde.html#a42829044eaaf781783f525dbf35eabc1">00021</a> <span class="keywordtype">void</span> <a class="code" href="_sailing_logic_8pde.html#a42829044eaaf781783f525dbf35eabc1">sailToWaypoint</a>(<span class="keyword">struct</span> <a class="code" href="structpoints.html">points</a> waypoint) {
<a name="l00022"></a>00022     <span class="keyword">static</span> <span class="keywordtype">int</span> waypointDirn;
<a name="l00023"></a>00023     <span class="keyword">static</span> <span class="keywordtype">int</span> distance = 0;
<a name="l00024"></a>00024     <span class="comment">//called to keep the gui up to date</span>
<a name="l00025"></a>00025     distance = <a class="code" href="_navigation_code_8pde.html#a5a81fac76ec3537d65664a394090479f">GPSdistance</a>(<a class="code" href="_location_struct_8h.html#a7101d8f006cf046f26304b4d14474910">boatLocation</a>, waypoint);
<a name="l00026"></a>00026     waypointDirn = <a class="code" href="_navigation_code_8pde.html#a4fffe1cc3f2386b3364495749dfebc9e">getWaypointDirn</a>(waypoint); <span class="comment">//get the next waypoint&#39;s compass bearing; must be positive 0-360 heading;</span>
<a name="l00027"></a>00027     <span class="keywordflow">if</span>(<a class="code" href="group__group1.html#gab23a7a79ede8d141fa92f4475d36fb24">tacking</a> == <span class="keyword">true</span>) {                     <span class="comment">//checks if it is already tacking, saves having to run checktack</span>
<a name="l00028"></a>00028         <a class="code" href="_tack_8pde.html#a6687f149db3a26da0af4bcb2c61fc9a3">tack</a>();
<a name="l00029"></a>00029     } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="_sailing_logic_8pde.html#a1acad42611d693fa074f7dae5e5a5e3f">checkTack</a>(10, waypoint) == <span class="keyword">true</span>) {       <span class="comment">//checks if outside corridor and sailing into the wind</span>
<a name="l00030"></a>00030         <a class="code" href="_tack_8pde.html#a6687f149db3a26da0af4bcb2c61fc9a3">tack</a>();
<a name="l00031"></a>00031     } <span class="keywordflow">else</span> {                     <span class="comment">//not facing upwind or inside corridor</span>
<a name="l00032"></a>00032         <a class="code" href="_sailing_logic_8pde.html#a8e7082b5e8ca95936e2afa33af9f6835">sail</a>(waypointDirn); <span class="comment">//get the next waypoint&#39;s compass bearing; must be positive 0-360 heading;</span>
<a name="l00033"></a>00033     }
<a name="l00034"></a>00034 }
<a name="l00035"></a>00035 <span class="comment">/* old description of Straightsail (deprecated)</span>
<a name="l00036"></a>00036 <span class="comment">         //this should be the generic straight sailing function; getWaypointDirn should return a desired compass direction,</span>
<a name="l00037"></a>00037 <span class="comment">         //taking into account wind direction (not necc just the wayoint dirn); (or make another function to do this)</span>
<a name="l00038"></a>00038 <span class="comment">          //needs to set rudder to not try and head directly into the wind</span>
<a name="l00039"></a>00039 <span class="comment">   */</span>
<a name="l00040"></a><a class="code" href="_sailing_logic_8pde.html#a8e7082b5e8ca95936e2afa33af9f6835">00040</a> <span class="keywordtype">void</span> <a class="code" href="_sailing_logic_8pde.html#a8e7082b5e8ca95936e2afa33af9f6835">sail</a>(<span class="keywordtype">int</span> waypointDirn) {
<a name="l00041"></a>00041     <span class="comment">//sails towards the waypointDirn passed in, unless this is upwind, in which case it sails closehauled.</span>
<a name="l00042"></a>00042     <span class="comment">//sailToWaypoint will take care of when tacking is necessary</span>
<a name="l00043"></a>00043     <span class="comment">//This function replaces straightsail which originally only controlled rudder</span>
<a name="l00044"></a>00044 
<a name="l00045"></a>00045     <span class="keywordtype">int</span> directionError = 0;
<a name="l00046"></a>00046     <span class="keyword">static</span> <span class="keywordtype">int</span> windDirn;
<a name="l00047"></a>00047 
<a name="l00048"></a>00048     windDirn = <a class="code" href="_navigation_code_8pde.html#ae8999f3c7fe4fd1480b06dd5b60d78f5">getWindDirn</a>();
<a name="l00049"></a>00049     <span class="keywordflow">if</span>(<a class="code" href="_utilities_8pde.html#acf7fddcdef68f94ad48b357770aebac5">between</a>(waypointDirn, windDirn - <a class="code" href="group__globalconstants.html#ga2cf0d7fd0783e401cdb0dc31e2179673" title="Boat parameter constants in globalconstants.">TACKING_ANGLE</a>, windDirn + <a class="code" href="group__globalconstants.html#ga2cf0d7fd0783e401cdb0dc31e2179673" title="Boat parameter constants in globalconstants.">TACKING_ANGLE</a>)) { <span class="comment">//check if the waypoint&#39;s direction is between the wind and closehauled on either side (ie are we downwind?)</span>
<a name="l00050"></a>00050         directionError = <a class="code" href="_navigation_code_8pde.html#aff425444a43bfea4cccd00c915eff7a5">getCloseHauledDirn</a>() - <a class="code" href="group__group1.html#ga4736792191ccbbbb7b3d6933a3302336" title="Heading from compass.">headingc</a>;      <span class="comment">//*should* prevent boat from ever trying to sail upwind</span>
<a name="l00051"></a>00051     } <span class="keywordflow">else</span> {
<a name="l00052"></a>00052         directionError = waypointDirn - <a class="code" href="group__group1.html#ga4736792191ccbbbb7b3d6933a3302336" title="Heading from compass.">headingc</a>;
<a name="l00053"></a>00053     }
<a name="l00054"></a>00054     <a class="code" href="_sailing_logic_8pde.html#aad7e4cc1e18478540e9c1d8c00390d24">rudderControl</a>(directionError);
<a name="l00055"></a>00055     delay(10);     <span class="comment">//wait to allow rudder signal to be sent to pololu</span>
<a name="l00056"></a>00056     <a class="code" href="_sailing_logic_8pde.html#aae8de392da41d229212d9943d965690c">sailControl</a>();
<a name="l00057"></a>00057 }
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="comment">//Checks if tacking is neccessary,returns true if it is false if not.</span>
<a name="l00060"></a>00060 <span class="comment">//looks to see if boat is in the downwind corridor and if its angle to the wind is closehauled.</span>
<a name="l00061"></a>00061 <span class="comment">//if the boat is out of the corridor and sailing closehauled then it will tack. This results in better turning and</span>
<a name="l00062"></a>00062 <span class="comment">//will allow for the safety of the getOutOfIrons being called during any turn into the wind</span>
<a name="l00063"></a><a class="code" href="_sailing_logic_8pde.html#a1acad42611d693fa074f7dae5e5a5e3f">00063</a> <span class="keywordtype">boolean</span> <a class="code" href="_sailing_logic_8pde.html#a1acad42611d693fa074f7dae5e5a5e3f">checkTack</a>(<span class="keywordtype">int</span> corridorHalfWidth, <span class="keyword">struct</span> <a class="code" href="structpoints.html">points</a> waypoint) {
<a name="l00064"></a>00064     <span class="keyword">static</span> <span class="keywordtype">int</span> currentHeading;
<a name="l00065"></a>00065     <span class="keyword">static</span> <span class="keywordtype">int</span> windDirn;
<a name="l00066"></a>00066     <span class="keywordtype">int</span> waypointDirn;
<a name="l00067"></a>00067     <span class="keywordtype">int</span> theta;
<a name="l00068"></a>00068     <span class="keywordtype">float</span> distance, hypotenuse;
<a name="l00069"></a>00069     <span class="keywordtype">int</span> difference;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071     windDirn = <a class="code" href="_navigation_code_8pde.html#ae8999f3c7fe4fd1480b06dd5b60d78f5">getWindDirn</a>();
<a name="l00072"></a>00072     currentHeading = <a class="code" href="group__group1.html#ga4736792191ccbbbb7b3d6933a3302336" title="Heading from compass.">headingc</a>;
<a name="l00073"></a>00073 
<a name="l00074"></a>00074     <span class="keywordflow">if</span>(<a class="code" href="_utilities_8pde.html#acf7fddcdef68f94ad48b357770aebac5">between</a>(currentHeading,windDirn - <a class="code" href="group__globalconstants.html#ga2cf0d7fd0783e401cdb0dc31e2179673" title="Boat parameter constants in globalconstants.">TACKING_ANGLE</a>, windDirn + <a class="code" href="group__globalconstants.html#ga2cf0d7fd0783e401cdb0dc31e2179673" title="Boat parameter constants in globalconstants.">TACKING_ANGLE</a>)) {
<a name="l00075"></a>00075         <span class="comment">//checks if closehauled first,</span>
<a name="l00076"></a>00076         <span class="comment">//do this with trig. It&#39;s a right-angled triangle, where opp is the distance perpendicular to the wind angle (the number we&#39;re looking for);</span>
<a name="l00077"></a>00077         <span class="comment">// and theta is the angle between the wind and the waypoint directions; positive when windDirn &gt; waypointDirn</span>
<a name="l00078"></a>00078         waypointDirn = <a class="code" href="_navigation_code_8pde.html#a4fffe1cc3f2386b3364495749dfebc9e">getWaypointDirn</a>(waypoint);
<a name="l00079"></a>00079         theta = waypointDirn - windDirn;
<a name="l00080"></a>00080         <span class="comment">// the hypotenuse is as long as the distance between the boat and the waypoint, in meters</span>
<a name="l00081"></a>00081         hypotenuse = <a class="code" href="_navigation_code_8pde.html#a5a81fac76ec3537d65664a394090479f">GPSdistance</a>(<a class="code" href="_location_struct_8h.html#a7101d8f006cf046f26304b4d14474910">boatLocation</a>, waypoint);<span class="comment">//latitude is Y, longitude X for waypoints</span>
<a name="l00082"></a>00082         distance = hypotenuse * sin(<a class="code" href="_utilities_8pde.html#afe25c7411bef33d33beaa8f6bf6e07e7">degreesToRadians</a>(theta));
<a name="l00083"></a>00083         Serial.println(<span class="stringliteral">&quot;Distance from corridor:  &quot;</span>);
<a name="l00084"></a>00084         Serial.println(distance);
<a name="l00085"></a>00085         <span class="keywordflow">if</span> ( (distance  &lt; 0 &amp;&amp; wind_angl &gt; 180) || (distance &gt; 0 &amp;&amp; <a class="code" href="group__group1.html#ga6bc5259b7cc1cb6128495b28f55b0a5d" title="wind angle, (relative to boat I believe, could be north, check this)">wind_angl</a> &lt; 180) ) { <span class="comment">// check the direction of the wind so we only try to tack towards the mark</span>
<a name="l00086"></a>00086             <span class="keywordflow">if</span> (abs(distance) &gt; corridorHalfWidth) { <span class="comment">//we&#39;re outside corridor</span>
<a name="l00087"></a>00087                 Serial.println(<span class="stringliteral">&quot;Outside corridor&quot;</span>);
<a name="l00088"></a>00088                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00089"></a>00089             } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code" href="_utilities_8pde.html#acf7fddcdef68f94ad48b357770aebac5">between</a>(waypointDirn, windDirn + <a class="code" href="group__globalconstants.html#ga2cf0d7fd0783e401cdb0dc31e2179673" title="Boat parameter constants in globalconstants.">TACKING_ANGLE</a>, windDirn - <a class="code" href="group__globalconstants.html#ga2cf0d7fd0783e401cdb0dc31e2179673" title="Boat parameter constants in globalconstants.">TACKING_ANGLE</a>)) { <span class="comment">//if we&#39;re past the layline</span>
<a name="l00090"></a>00090                 Serial.println(<span class="stringliteral">&quot;Past the layline&quot;</span>);
<a name="l00091"></a>00091                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00092"></a>00092             }
<a name="l00093"></a>00093         }
<a name="l00094"></a>00094     }
<a name="l00095"></a>00095     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00096"></a>00096 }
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 <span class="comment">//this functin controls the sails, proportional to the wind direction with no consideration for wind strength (yet)</span>
<a name="l00099"></a><a class="code" href="_sailing_logic_8pde.html#aae8de392da41d229212d9943d965690c">00099</a> <span class="keywordtype">void</span> <a class="code" href="_sailing_logic_8pde.html#aae8de392da41d229212d9943d965690c">sailControl</a>() {
<a name="l00100"></a>00100     <span class="keywordtype">int</span> windAngle;
<a name="l00101"></a>00101 
<a name="l00102"></a>00102     <span class="keywordflow">if</span> (<a class="code" href="group__group1.html#ga6bc5259b7cc1cb6128495b28f55b0a5d" title="wind angle, (relative to boat I believe, could be north, check this)">wind_angl</a> &gt; 180) <span class="comment">//wind is from port side, but we dont care</span>
<a name="l00103"></a>00103         windAngle = 360 - <a class="code" href="group__group1.html#ga6bc5259b7cc1cb6128495b28f55b0a5d" title="wind angle, (relative to boat I believe, could be north, check this)">wind_angl</a>; <span class="comment">//set to 180 scale, dont care if it&#39;s on port or starboard right now,</span>
<a name="l00104"></a>00104     <span class="keywordflow">else</span>
<a name="l00105"></a>00105         windAngle = <a class="code" href="group__group1.html#ga6bc5259b7cc1cb6128495b28f55b0a5d" title="wind angle, (relative to boat I believe, could be north, check this)">wind_angl</a>;
<a name="l00106"></a>00106     <span class="keywordflow">if</span> (windAngle &gt; <a class="code" href="group__globalconstants.html#ga2cf0d7fd0783e401cdb0dc31e2179673" title="Boat parameter constants in globalconstants.">TACKING_ANGLE</a>) <span class="comment">//not in irons</span>
<a name="l00107"></a>00107         <a class="code" href="_motor_control_functions_8pde.html#a3ee6de88bcd944f9cb1b7301769c8b7e">setSails</a>( (windAngle-<a class="code" href="group__globalconstants.html#ga2cf0d7fd0783e401cdb0dc31e2179673" title="Boat parameter constants in globalconstants.">TACKING_ANGLE</a>)*100/(180 - <a class="code" href="group__globalconstants.html#ga2cf0d7fd0783e401cdb0dc31e2179673" title="Boat parameter constants in globalconstants.">TACKING_ANGLE</a>) );<span class="comment">//scale the range of winds from 40-&gt;180 (140 degree range) onto 0 to 100 controls; 0 means all the way in</span>
<a name="l00108"></a>00108     <span class="keywordflow">else</span>
<a name="l00109"></a>00109         <a class="code" href="_motor_control_functions_8pde.html#a3ee6de88bcd944f9cb1b7301769c8b7e">setSails</a>(<a class="code" href="group__globalconstants.html#gaaadbf956e6981264e6bf369a08269821" title="Constant which defines when the boat is &quot;All In&quot;.">ALL_IN</a>);<span class="comment">// set sails all the way in, in irons</span>
<a name="l00110"></a>00110     <span class="keywordflow">if</span> (abs(<a class="code" href="group__group1.html#ga26fd84d522945b6038221d9e38c7cc39" title="roll">roll</a>) &gt; 40) { <span class="comment">//if heeled over a lot (experimentally found that 40 was appropriate according to cory)</span>
<a name="l00111"></a>00111         <a class="code" href="_motor_control_functions_8pde.html#ab945c39b15584683f123bca1f5df6faa">setMain</a>(<a class="code" href="group__globalconstants.html#ga074485974be5a03e711020873d83fd90" title="Constant which defines when the boat is &quot;All Out&quot;.">ALL_OUT</a>); <span class="comment">//set sails all the way out, keep jibaX</span>
<a name="l00112"></a>00112     }
<a name="l00113"></a>00113     delay(20);     <span class="comment">//delay to stop pololu crashing</span>
<a name="l00114"></a>00114 }
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 <span class="comment">//controls the rudder movement, used to be part of sail, but is moved to a seperate function so it is easier to modify</span>
<a name="l00117"></a><a class="code" href="_sailing_logic_8pde.html#aad7e4cc1e18478540e9c1d8c00390d24">00117</a> <span class="keywordtype">int</span> <a class="code" href="_sailing_logic_8pde.html#aad7e4cc1e18478540e9c1d8c00390d24">rudderControl</a>(<span class="keywordtype">int</span> directionError) {
<a name="l00118"></a>00118     <span class="keywordflow">if</span> (directionError &lt; 0)
<a name="l00119"></a>00119         directionError += 360;
<a name="l00120"></a>00120     <span class="keywordflow">if</span>  (directionError &gt; 10 &amp;&amp; directionError &lt; 350) { <span class="comment">//rudder deadzone to avoid constant adjustments and oscillating, only change the rudder if there&#39;s a big error</span>
<a name="l00121"></a>00121         <span class="keywordflow">if</span> (directionError &gt; 180) <span class="comment">//turn left, so send a negative to setrudder function</span>
<a name="l00122"></a>00122             <a class="code" href="_motor_control_functions_8pde.html#ada2247ce798f57b0f35794901100c48b">setrudder</a>((directionError-360)/5);  <span class="comment">//adjust rudder proportional;</span>
<a name="l00123"></a>00123         <span class="keywordflow">else</span>
<a name="l00124"></a>00124             <a class="code" href="_motor_control_functions_8pde.html#ada2247ce798f57b0f35794901100c48b">setrudder</a>(directionError/5); <span class="comment">// adjust rudder proportional; setrudder accepts -30 to +30</span>
<a name="l00125"></a>00125     } <span class="keywordflow">else</span>
<a name="l00126"></a>00126         <a class="code" href="_motor_control_functions_8pde.html#ada2247ce798f57b0f35794901100c48b">setrudder</a>(0);<span class="comment">//set to neutral position</span>
<a name="l00127"></a>00127     delay(20);
<a name="l00128"></a>00128 }
</pre></div></div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 30 2011 21:11:01 for QMAST Source Code by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
